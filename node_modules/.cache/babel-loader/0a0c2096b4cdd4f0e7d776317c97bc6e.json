{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\PYGMALION6\\\\Desktop\\\\crud_productos_react_redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\PYGMALION6\\\\Desktop\\\\crud_productos_react_redux\\\\src\\\\components\\\\EditarProducto.js\";\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { withRouter } from 'react-router-dom';\nimport Error from './Error';\n\nfunction EditarProducto(props) {\n  //Destructuring de props\n  const history = props.history,\n        producto = props.producto,\n        guardarRecargarProductos = props.guardarRecargarProductos; //Generar los refs\n\n  const precioProductoRef = useRef('');\n  const nombreProductoRef = useRef('');\n  const referenciaProductoRef = useRef('');\n  const stockProductoRef = useRef('');\n  const pesoProductoRef = useRef('');\n  const fechaProductoRef = useRef('');\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        guardarError = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        categoria = _useState4[0],\n        guardarCategoria = _useState4[1];\n\n  const curr = new Date();\n  curr.setDate(curr.getDate());\n  const date = curr.toISOString().substr(0, 10);\n\n  const editarProducto = async e => {\n    e.preventDefault(); //Validacion\n\n    const nuevoNombreProducto = nombreProductoRef.current.value,\n          nuevoPrecioProducto = precioProductoRef.current.value,\n          nuevoPesoProducto = pesoProductoRef.current.value,\n          nuevaReferenciaProducto = referenciaProductoRef.current.value,\n          nuevoStockProducto = stockProductoRef.current.value,\n          nuevaFechaProducto = fechaProductoRef.current.value; //Revisar si cambio la catgeoria de lo contrario asignar el mismo valor\n\n    let categoriaProducto = categoria === '' ? producto.categoria : categoria;\n\n    if (nuevoNombreProducto === '' || nuevoPrecioProducto === '' || nuevoPesoProducto === '' || nuevaReferenciaProducto === '' || nuevoStockProducto === '') {\n      guardarError(true);\n      return;\n    }\n\n    guardarError(false); //Obtener los valores del formulario\n\n    const editarProducto = {\n      precioProducto: nuevoPrecioProducto,\n      nombreProducto: nuevoNombreProducto,\n      pesoProducto: nuevoPesoProducto,\n      referenciaProducto: nuevaReferenciaProducto,\n      stockProducto: nuevoStockProducto,\n      fechaModificacion: nuevaFechaProducto,\n      categoria: categoriaProducto //Enviar el Request\n\n    };\n    const url = \"http://localhost:4000/Inventario/\".concat(producto.id);\n\n    try {\n      const resultado = await axios.put(url, editarProducto);\n\n      if (resultado.status === 200) {\n        Swal.fire('¡Producto editado!', '¡El producto fue edito correctamente!', 'success');\n      }\n    } catch (error) {\n      console.log(error);\n      Swal.fire({\n        type: 'error',\n        title: 'Error',\n        text: 'Hubo un error, vuelva a intentarlo.'\n      });\n    } //Redirigir al usuario, consultar API\n\n\n    guardarRecargarProductos(true);\n    history.push('/productos');\n  };\n\n  const leerValorRadio = e => {\n    guardarCategoria(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"col-md-8 mx-auto \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Editar Producto\"), error ? React.createElement(Error, {\n    mensaje: \"Todos los campos son obligatorios\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }) : null, React.createElement(\"form\", {\n    className: \"mt-5\",\n    onSubmit: editarProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Fecha de Modificacion\"), React.createElement(\"input\", {\n    type: \"date\",\n    className: \"form-control\",\n    defaultValue: date,\n    disabled: true,\n    required: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Nombre Producto\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"nombre\",\n    placeholder: \"Nombre Producto\",\n    ref: nombreProductoRef,\n    defaultValue: producto.nombreProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Referencia Producto\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"referencia\",\n    placeholder: \"Referencia Producto\",\n    ref: referenciaProductoRef,\n    defaultValue: producto.referenciaProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Precio Producto (COP)\"), React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    name: \"precio\",\n    ref: precioProductoRef,\n    defaultValue: producto.precioProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Peso Producto (g)\"), React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    name: \"peso\",\n    ref: pesoProductoRef,\n    defaultValue: producto.pesoProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"Stock Producto\"), React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    name: \"stock\",\n    ref: stockProductoRef,\n    defaultValue: producto.stockProducto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })), React.createElement(\"legend\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"Categor\\xEDa:\"), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"categoria\",\n    value: \"Enlatados\",\n    onChange: leerValorRadio,\n    defaultChecked: producto.categoria === 'Enlatados',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Enlatado\")), React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"categoria\",\n    value: \"Granos\",\n    onChange: leerValorRadio,\n    defaultChecked: producto.categoria === 'Granos',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Granos\")), React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"categoria\",\n    value: \"Frutas\",\n    onChange: leerValorRadio,\n    defaultChecked: producto.categoria === 'Frutas',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Frutas\")), React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"categoria\",\n    value: \"Verduras\",\n    onChange: leerValorRadio,\n    defaultChecked: producto.categoria === 'Verduras',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"Verduras\"))), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3\",\n    value: \"Editar Producto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  })));\n}\n\nexport default withRouter(EditarProducto);","map":{"version":3,"sources":["C:\\Users\\PYGMALION6\\Desktop\\crud_productos_react_redux\\src\\components\\EditarProducto.js"],"names":["React","useState","useRef","axios","Swal","withRouter","Error","EditarProducto","props","history","producto","guardarRecargarProductos","precioProductoRef","nombreProductoRef","referenciaProductoRef","stockProductoRef","pesoProductoRef","fechaProductoRef","error","guardarError","categoria","guardarCategoria","curr","Date","setDate","getDate","date","toISOString","substr","editarProducto","e","preventDefault","nuevoNombreProducto","current","value","nuevoPrecioProducto","nuevoPesoProducto","nuevaReferenciaProducto","nuevoStockProducto","nuevaFechaProducto","categoriaProducto","precioProducto","nombreProducto","pesoProducto","referenciaProducto","stockProducto","fechaModificacion","url","id","resultado","put","status","fire","console","log","type","title","text","push","leerValorRadio","target"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport {withRouter} from 'react-router-dom';\nimport Error from './Error';\n\nfunction EditarProducto(props) {\n    //Destructuring de props\n    const {history, producto, guardarRecargarProductos} = props;\n    //Generar los refs\n    const precioProductoRef = useRef('');\n    const nombreProductoRef = useRef('');\n    const referenciaProductoRef = useRef('');\n    const stockProductoRef = useRef('');\n    const pesoProductoRef = useRef('');\n    const fechaProductoRef = useRef('');\n    const [error, guardarError] = useState(false);\n    const [categoria, guardarCategoria] = useState('');\n\n    const curr = new Date();\n    curr.setDate(curr.getDate());\n    const date = curr.toISOString().substr(0,10);\n   \n\n    const editarProducto = async e => {\n        e.preventDefault();\n        //Validacion\n        const nuevoNombreProducto = nombreProductoRef.current.value,\n              nuevoPrecioProducto = precioProductoRef.current.value,\n              nuevoPesoProducto = pesoProductoRef.current.value,\n              nuevaReferenciaProducto = referenciaProductoRef.current.value,\n              nuevoStockProducto = stockProductoRef.current.value,\n              nuevaFechaProducto = fechaProductoRef.current.value;\n\n        //Revisar si cambio la catgeoria de lo contrario asignar el mismo valor\n        let categoriaProducto = (categoria === '') ? producto.categoria : categoria;\n        if(nuevoNombreProducto === '' || nuevoPrecioProducto === '' || nuevoPesoProducto === '' || nuevaReferenciaProducto === '' || nuevoStockProducto === ''){\n            guardarError(true);\n            return;\n        }\n        guardarError(false);\n        //Obtener los valores del formulario\n        const editarProducto = {\n            precioProducto : nuevoPrecioProducto,\n            nombreProducto : nuevoNombreProducto,\n            pesoProducto : nuevoPesoProducto,\n            referenciaProducto : nuevaReferenciaProducto,\n            stockProducto : nuevoStockProducto,\n            fechaModificacion: nuevaFechaProducto, \n            categoria : categoriaProducto\n        }\n        //Enviar el Request\n        const url = `http://localhost:4000/Inventario/${producto.id}`;\n        try {\n            const resultado = await axios.put(url, editarProducto);\n            if(resultado.status === 200) {\n                Swal.fire(\n                    '¡Producto editado!',\n                    '¡El producto fue edito correctamente!',\n                    'success'\n                )\n            }\n        } catch (error) {\n            console.log(error);\n            Swal.fire({\n                type: 'error',\n                title: 'Error',\n                text: 'Hubo un error, vuelva a intentarlo.'\n            })\n        }\n        //Redirigir al usuario, consultar API\n        guardarRecargarProductos(true);\n        history.push('/productos');\n    }\n\n    const leerValorRadio = e => {\n        guardarCategoria(e.target.value);\n    }\n\n    return (\n        <div className=\"col-md-8 mx-auto \">\n            <h1 className=\"text-center\">Editar Producto</h1>\n            {(error) ? <Error mensaje=\"Todos los campos son obligatorios\" /> : null}\n            <form\n                className=\"mt-5\"\n                onSubmit={editarProducto}\n            >\n        <div className = \"form-group\">\n          <label>Fecha de Modificacion</label>\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            defaultValue={date}\n            disabled={true}\n            required = {false}            \n          />\n        </div>\n                <div className=\"form-group\">\n                    <label>Nombre Producto</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                        name=\"nombre\" \n                        placeholder=\"Nombre Producto\"\n                        ref={nombreProductoRef}\n                        defaultValue={producto.nombreProducto}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Referencia Producto</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                        name=\"referencia\" \n                        placeholder=\"Referencia Producto\"\n                        ref={referenciaProductoRef}\n                        defaultValue={producto.referenciaProducto}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Precio Producto (COP)</label>\n                    <input \n                        type=\"number\" \n                        className=\"form-control\" \n                        name=\"precio\" \n                        ref={precioProductoRef}\n                        defaultValue={producto.precioProducto}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Peso Producto (g)</label>\n                    <input \n                        type=\"number\" \n                        className=\"form-control\" \n                        name=\"peso\" \n                        ref={pesoProductoRef}\n                        defaultValue={producto.pesoProducto}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Stock Producto</label>\n                    <input \n                        type=\"number\" \n                        className=\"form-control\" \n                        name=\"stock\" \n                        ref={stockProductoRef}\n                        defaultValue={producto.stockProducto}\n                    />\n                </div>\n\n                <legend className=\"text-center\">Categoría:</legend>\n                <div className=\"text-center\">\n                <div className=\"form-check form-check-inline\">\n                    <input \n                        className=\"form-check-input\" \n                        type=\"radio\" \n                        name=\"categoria\"\n                        value=\"Enlatados\"\n                        onChange={leerValorRadio}\n                        defaultChecked={(producto.categoria === 'Enlatados')}\n                    />\n                    <label className=\"form-check-label\">\n                        Enlatado\n                    </label>\n                </div>\n                <div className=\"form-check form-check-inline\">\n                    <input \n                        className=\"form-check-input\" \n                        type=\"radio\" \n                        name=\"categoria\"\n                        value=\"Granos\"\n                        onChange={leerValorRadio}\n                        defaultChecked={(producto.categoria === 'Granos')}\n                    />\n                    <label className=\"form-check-label\">\n                        Granos\n                    </label>\n                </div>\n\n                <div className=\"form-check form-check-inline\">\n                    <input \n                        className=\"form-check-input\" \n                        type=\"radio\" \n                        name=\"categoria\"\n                        value=\"Frutas\"\n                        onChange={leerValorRadio}\n                        defaultChecked={(producto.categoria === 'Frutas')}\n                    />\n                    <label className=\"form-check-label\">\n                        Frutas\n                    </label>\n                </div>\n\n                <div className=\"form-check form-check-inline\">\n                    <input \n                        className=\"form-check-input\" \n                        type=\"radio\" \n                        name=\"categoria\"\n                        value=\"Verduras\"\n                        onChange={leerValorRadio}\n                        defaultChecked={(producto.categoria === 'Verduras')}\n                    />\n                    <label className=\"form-check-label\">\n                        Verduras\n                    </label>\n                </div>\n                </div>\n\n                <input type=\"submit\" className=\"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3\" value=\"Editar Producto\" />\n            </form>\n        </div>\n    )\n}\n\nexport default withRouter(EditarProducto);"]},"metadata":{},"sourceType":"module"}